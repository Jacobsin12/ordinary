<!-- Barra de bÃºsqueda -->
<div class="search-bar">
  <p-iconfield>
    <i class="pi pi-search"></i>
    <input type="text" pInputText placeholder="Search products..." />
  </p-iconfield>
</div>

<p-dataview #dv [value]="products()" [layout]="layout">
  <!-- Header con SelectButton -->
  <ng-template #header>
    <div class="header">
      <p-selectbutton [(ngModel)]="layout" [options]="options" [allowEmpty]="false">
        <ng-template #item let-item>
          <i [ngClass]="{ 'pi pi-bars': item === 'list', 'pi pi-table': item === 'grid' }"></i>
        </ng-template>
      </p-selectbutton>
    </div>
  </ng-template>

  <!-- List Layout -->
  <ng-template #list let-items>
    <div *ngFor="let item of items; let first = first" class="product-item">
      <div class="product-image">
        <img [src]="item.image" [alt]="item.name" />
        <p-tag
          [value]="item.inventoryStatus"
          [severity]="getSeverity(item)"
          class="tag"
          [style.left.px]="4"
          [style.top.px]="4"
        ></p-tag>
      </div>
      <div class="product-details">
        <div class="product-header">
          <div>
            <span class="category">{{ item.category }}</span>
            <div class="name">{{ item.name }}</div>
          </div>
          <div class="rating">
            <span>{{ item.rating }}</span>
            <i class="pi pi-star-fill"></i>
          </div>
        </div>
        <div class="product-footer">
          <span class="price">{{ item.price | currency: 'USD' }}</span>
          <div class="buttons">
            <button pButton icon="pi pi-heart" [outlined]="true"></button>
            <button
              pButton
              icon="pi pi-shopping-cart"
              label="Buy Now"
              [disabled]="item.inventoryStatus === 'OUTOFSTOCK'"
            ></button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>

  <!-- Grid Layout -->
  <ng-template #grid let-items>
    <div class="grid">
      <div *ngFor="let product of items" class="product-item">
        <div class="product-image">
          <img [src]="product.image" [alt]="product.name" />
          <p-tag
            [value]="product.inventoryStatus"
            [severity]="getSeverity(product)"
            class="tag"
            [style.left.px]="4"
            [style.top.px]="4"
          ></p-tag>
        </div>
        <div class="product-details">
          <div class="product-header">
            <div>
              <span class="category">{{ product.category }}</span>
              <div class="name">{{ product.name }}</div>
            </div>
            <div class="rating">
              <span>{{ product.rating }}</span>
              <i class="pi pi-star-fill"></i>
            </div>
          </div>
          <div class="product-footer">
            <span class="price">{{ product.price | currency: 'USD' }}</span>
            <div class="buttons">
              <button pButton icon="pi pi-shopping-cart" label="Buy Now" [disabled]="product.inventoryStatus === 'OUTOFSTOCK'"></button>
              <button pButton icon="pi pi-heart" [outlined]="true"></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</p-dataview>
